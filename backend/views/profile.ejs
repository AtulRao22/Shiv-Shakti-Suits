<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>My Profile</title>
  <link rel="stylesheet" href="/css/style.css">
</head>
<body>
  <header>
    <nav>
      <div class="logo">Shiv Shakti</div>
      <div class="nav-right">
        <span id="logoutBtn">Logout</span>
      </div>
    </nav>
  </header>

  <main>
    <h1>Welcome, <%= user.name %></h1>
    <p>Mobile: <%= user.mobile %></p>
    <p>Email: <%= user.email || "Not Provided" %></p>

    <div class="profile-sections">
      <!-- Tabs -->
      <ul class="tabs">
        <li class="tab active" data-tab="orders">Orders</li>
        <li class="tab" data-tab="account">Account</li>
        <li class="tab" data-tab="shipping">Shipping Address</li>
      </ul>

      <!-- Tab content -->
      <div class="tab-content">
        <div id="orders" class="tab-pane active">
          <% if (orders.length === 0) { %>
            <p>No orders found.</p>
          <% } else { %>
            <ul>
              <% orders.forEach(order => { %>
                <li>Order #<%= order._id %> - Status: <%= order.status %> - Total: â‚¹<%= order.total %></li>
              <% }) %>
            </ul>
          <% } %>
        </div>

        <div id="account" class="tab-pane">
          <p>Name: <%= user.name %></p>
          <p>Email: <%= user.email || "Not Provided" %></p>
          <p>Mobile: <%= user.mobile %></p>
        </div>

        <div id="shipping" class="tab-pane">
          <% if (!user.shipping || user.shipping.length === 0) { %>
            <p>No shipping addresses added.</p>
          <% } else { %>
            <ul>
              <% user.shipping.forEach(addr => { %>
                <li>
                  <p><%= addr.addressLine1 %>, <%= addr.city %>, <%= addr.state %> - <%= addr.zip %></p>
                  <p>Phone: <%= addr.mobile %></p>
                </li>
              <% }) %>
            </ul>
          <% } %>
        </div>
      </div>
    </div>
  </main>

  <script src="/js/profile.js"></script>
</body>
</html>
